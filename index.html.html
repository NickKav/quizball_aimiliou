<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Quiz - LOCKED</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #121212;
            color: #ffffff;
            text-align: center;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .app-container {
            width: 100%;
            max-width: 500px;
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 0 40px rgba(0,0,0, 0.6);
            min-height: 600px;
            display: flex;
            flex-direction: column;
            border: 4px solid #333;
            position: relative;
        }

        /* Turn Indicator Colors */
        .p1-turn { border-color: #2979ff; box-shadow: 0 0 25px rgba(41, 121, 255, 0.2); }
        .p2-turn { border-color: #ff9100; box-shadow: 0 0 25px rgba(255, 145, 0, 0.2); }

        /* Scoreboard */
        .scoreboard {
            display: flex;
            justify-content: space-between;
            background: #000;
            padding: 15px 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 1.4em;
            border: 1px solid #333;
        }
        .p1-score { color: #2979ff; }
        .p2-score { color: #ff9100; }
        
        .turn-badge {
            background-color: #333;
            color: white;
            padding: 8px 25px;
            border-radius: 50px;
            font-size: 1em;
            margin-bottom: 20px;
            display: inline-block;
            font-weight: bold;
        }

        /* Main Menu Buttons */
        .menu-btn {
            background: #333;
            border: 1px solid #555;
            color: white;
            padding: 18px;
            width: 100%;
            margin-bottom: 15px;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }
        .menu-btn:active { transform: scale(0.98); }
        .menu-btn:hover { background: #444; }

        /* Difficulty Buttons */
        .diff-btn {
            padding: 20px; 
            margin-bottom: 12px; 
            font-size: 1.2em; 
            border-radius: 15px; 
            border: none; 
            color: white; 
            cursor: pointer; 
            width: 100%; 
            font-weight: bold;
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            transition: 0.2s;
        }
        
        /* LOCKED BUTTON STYLE - Î‘Î¥Î£Î¤Î—Î¡ÎŸ */
        .btn-locked {
            background-color: #111 !important; /* ÎœÎ±ÏÏÎ¿ */
            color: #444 !important; /* Î£ÎºÎ¿ÏÏÎ¿ Î³ÎºÏÎ¹ Î³ÏÎ¬Î¼Î¼Î±Ï„Î± */
            border: 2px solid #222 !important;
            cursor: not-allowed !important;
            pointer-events: none !important; /* Î”ÎµÎ½ Î´Î­Ï‡ÎµÏ„Î±Î¹ ÎºÎ±Î½Î­Î½Î± ÎºÎ»Î¹Îº */
            box-shadow: none !important;
            transform: none !important;
        }

        .diff-1 { background-color: #00c853; box-shadow: 0 4px 0 #009624; }
        .diff-2 { background-color: #ffab00; color: #111; box-shadow: 0 4px 0 #c68400; }
        .diff-3 { background-color: #d50000; box-shadow: 0 4px 0 #9b0000; }
        
        .diff-btn:active { transform: translateY(4px); box-shadow: none; }

        /* Game Area */
        .points-tag {
            background: #444; color: gold; padding: 5px 10px; border-radius: 5px; font-weight: bold; font-size: 0.9em;
        }

        .question-card {
            background-color: #2c2c2c;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid #444;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .career-path { font-size: 1.2em; line-height: 1.5; color: #81d4fa; font-weight: bold; }
        .question-img { width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-bottom: 10px; }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .opt-btn { background-color: #333; border: 2px solid #444; color: white; padding: 15px; border-radius: 10px; cursor: pointer; font-size: 1em; font-weight: 500; }
        .opt-btn:hover { background-color: #444; }
        
        .correct { background-color: #00c853 !important; border-color: #00c853 !important; }
        .wrong { background-color: #d50000 !important; border-color: #d50000 !important; }

        .hidden { display: none !important; }
        
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.4); }
            100% { transform: scale(1); }
        }
        .score-anim { animation: pop 0.4s ease-in-out; color: #00e676 !important;}
    </style>
</head>
<body>

<div id="main-app" class="app-container">
    
    <div class="scoreboard">
        <span class="p1-score">P1: <span id="score-p1">0</span></span>
        <span style="font-size:0.7em; color:#555; align-self:center;">VS</span>
        <span class="p2-score">P2: <span id="score-p2">0</span></span>
    </div>
    
    <div style="text-align:center;">
        <div id="turn-badge" class="turn-badge">...</div>
    </div>

    <div id="screen-start">
        <h1 style="color:#00e676; margin-bottom: 10px;">FOOTBALL QUIZ</h1>
        <p style="color:#aaa; margin-bottom: 30px;">Lock Mode: ON ğŸ”’</p>
        <button class="menu-btn" style="background: linear-gradient(45deg, #00c853, #00e676); color:black; border:none;" onclick="initGame()">Î•ÎÎ‘Î¡ÎÎ— âš½</button>
    </div>

    <div id="screen-menu" class="hidden">
        <h2 style="color:#ccc;">Î”Î¹Î¬Î»ÎµÎ¾Îµ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±:</h2>
        <button class="menu-btn" onclick="selectCategory('PLAYER ID')">ğŸ‘¤ Player ID</button>
        <button class="menu-btn" onclick="selectCategory('GEOGRAPHY')">ğŸŒ Î“ÎµÏ‰Î³ÏÎ±Ï†Î¯Î±</button>
        <button class="menu-btn" onclick="selectCategory('HISTORY')">ğŸ“œ Î™ÏƒÏ„Î¿ÏÎ¯Î±</button>
        <button class="menu-btn" onclick="selectCategory('WHO MISSING')">â“ Î Î¿Î¹Î¿Ï‚ Î›ÎµÎ¯Ï€ÎµÎ¹</button>
    </div>

    <div id="screen-difficulty" class="hidden">
        <h2 style="color:#ccc;">Î•Ï€Î¯Î»ÎµÎ¾Îµ Î’Î±Î¸Î¼ÏŒ:</h2>
        
        <button id="btn-diff-1" class="diff-btn diff-1" onclick="selectDifficulty(1)">
            <span id="lbl-1-left">Easy</span> <span id="lbl-1-right">1 Î ÏŒÎ½Ï„Î¿Ï‚</span>
        </button>
        
        <button id="btn-diff-2" class="diff-btn diff-2" onclick="selectDifficulty(2)">
            <span id="lbl-2-left">Medium</span> <span id="lbl-2-right">2 Î ÏŒÎ½Ï„Î¿Î¹</span>
        </button>
        
        <button id="btn-diff-3" class="diff-btn diff-3" onclick="selectDifficulty(3)">
            <span id="lbl-3-left">Hard</span> <span id="lbl-3-right">3 Î ÏŒÎ½Ï„Î¿Î¹</span>
        </button>
        
        <button class="menu-btn" style="background:transparent; border:none; color:#666; font-size:0.9em;" onclick="showScreen('screen-menu')">â¬… Î Î¯ÏƒÏ‰</button>
    </div>

    <div id="screen-game" class="hidden">
        <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
            <span style="color:#888" id="cat-label">CATEGORY</span>
            <span class="points-tag">Î“Î¹Î± <span id="points-label">1</span> Î ÏŒÎ½Ï„Î¿(Ï…Ï‚)</span>
        </div>

        <div class="question-card">
            <img id="q-image" class="question-img hidden" src="">
            <div id="q-text" class="career-path">Loading...</div>
        </div>

        <div id="options-area" class="options-grid"></div>
        
        <div id="feedback" style="height:40px; margin-top:15px; font-weight:bold; font-size:1.4em;"></div>
        
        <button id="next-btn" class="menu-btn hidden" style="margin-top:10px; background:white; color:black;" onclick="endTurn()">Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± â¡ï¸</button>
    </div>

    <div id="screen-results" class="hidden">
        <h1>Î¤Î•Î›Î™ÎšÎŸ Î£ÎšÎŸÎ¡</h1>
        <h2 style="font-size:3.5em; margin: 20px 0;">
            <span class="p1-score" id="final-p1">0</span> - <span class="p2-score" id="final-p2">0</span>
        </h2>
        <h3 id="winner-text" style="color:#00e676; font-size: 1.5em;"></h3>
        <button class="menu-btn" onclick="initGame()">ÎÎ­Î¿ Î Î±Î¹Ï‡Î½Î¯Î´Î¹ ğŸ”„</button>
    </div>

</div>

<script>
    // --- DATABASE ---
    const database = [
        // LEVEL 1
        { cat: 'PLAYER ID', diff: 1, text: "Molde â¡ï¸ Salzburg â¡ï¸ Dortmund â¡ï¸ Man City", opts: ["Odegaard", "Haaland", "Isak", "Sorloth"], corr: 1 },
        { cat: 'PLAYER ID', diff: 1, text: "Santos â¡ï¸ Barcelona â¡ï¸ PSG â¡ï¸ Al Hilal", opts: ["Neymar", "Vinicius", "Rodrygo", "Rivaldo"], corr: 0 },
        { cat: 'PLAYER ID', diff: 1, text: "Sporting CP â¡ï¸ Man United â¡ï¸ Real Madrid â¡ï¸ Juventus", opts: ["Nani", "Figo", "Ronaldo", "Bruno"], corr: 2 },
        { cat: 'GEOGRAPHY', diff: 1, text: "Î£Îµ Ï€Î¿Î¹Î± Ï€ÏŒÎ»Î· ÎµÎ¯Î½Î±Î¹ Ï„Î¿ 'Old Trafford';", opts: ["Liverpool", "Manchester", "London", "Birmingham"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 1, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Î­Ï‡ÎµÎ¹ Î­Î´ÏÎ± Ï„Î¿ 'Camp Nou';", opts: ["Real Madrid", "Barcelona", "Valencia", "Sevilla"], corr: 1 },
        { cat: 'HISTORY', diff: 1, text: "Î Î¿Î¹Î± Ï‡ÏÏÎ± ÎºÎ±Ï„Î­ÎºÏ„Î·ÏƒÎµ Ï„Î¿ ÎœÎ¿Ï…Î½Ï„Î¹Î¬Î» 2022;", opts: ["Î“Î±Î»Î»Î¯Î±", "Î’ÏÎ±Î¶Î¹Î»Î¯Î±", "Î‘ÏÎ³ÎµÎ½Ï„Î¹Î½Î®", "Î Î¿ÏÏ„Î¿Î³Î±Î»Î¯Î±"], corr: 2 },
        { cat: 'HISTORY', diff: 1, text: "Î Î¿Î¹Î¿Ï‚ Ï€Î±Î¯ÎºÏ„Î·Ï‚ Î­Ï‡ÎµÎ¹ Ï„Î¹Ï‚ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î§ÏÏ…ÏƒÎ­Ï‚ ÎœÏ€Î¬Î»ÎµÏ‚;", opts: ["Ronaldo", "Messi", "Pele", "Maradona"], corr: 1 },
        { cat: 'WHO MISSING', diff: 1, text: "MSN: Messi, Suarez, ...", opts: ["Neymar", "Pedro", "Xavi", "Iniesta"], corr: 0 },
        { cat: 'WHO MISSING', diff: 1, text: "BBC: Bale, Benzema, ...", opts: ["Ronaldo", "Modric", "Kroos", "Ramos"], corr: 0 },

        // LEVEL 2
        { cat: 'PLAYER ID', diff: 2, text: "Lille â¡ï¸ Chelsea â¡ï¸ Real Madrid", opts: ["Hazard", "Drogba", "Essien", "Kante"], corr: 0 },
        { cat: 'PLAYER ID', diff: 2, text: "Ajax â¡ï¸ Liverpool â¡ï¸ Barcelona â¡ï¸ Atletico Madrid", opts: ["Suarez", "De Jong", "Griezmann", "Depay"], corr: 0 },
        { cat: 'GEOGRAPHY', diff: 2, text: "Î Î¿Ï Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Ï„Î¿ Î³Î®Ï€ÎµÎ´Î¿ 'Mestalla';", opts: ["ÎœÎ±Î´ÏÎ¯Ï„Î·", "Î’Î±Î»Î­Î½Î¸Î¹Î±", "Î£ÎµÎ²Î¯Î»Î»Î·", "Î’Î±ÏÎºÎµÎ»ÏÎ½Î·"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 2, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Ï€Î±Î¯Î¶ÎµÎ¹ ÏƒÏ„Î¿ 'Signal Iduna Park';", opts: ["Bayern", "Dortmund", "Leverkusen", "Schalke"], corr: 1 },
        { cat: 'HISTORY', diff: 2, text: "Î Î¿Î¹Î± Ï‡ÏÎ¿Î½Î¹Î¬ ÎºÎ±Ï„Î­ÎºÏ„Î·ÏƒÎµ Î· Î•Î»Î»Î¬Î´Î± Ï„Î¿ Euro;", opts: ["2000", "2004", "2008", "2012"], corr: 1 },
        { cat: 'HISTORY', diff: 2, text: "Î Î¿Î¹Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿ Ï€ÏÏÏ„Î¿Ï‚ ÏƒÎºÏŒÏÎµÏ ÏƒÏ„Î·Î½ Î¹ÏƒÏ„Î¿ÏÎ¯Î± Ï„Î¿Ï… Champions League;", opts: ["Messi", "Lewandowski", "Ronaldo", "Benzema"], corr: 2 },
        { cat: 'WHO MISSING', diff: 2, text: "Man Utd 2008: Rooney, Ronaldo, ...", opts: ["Tevez", "Berbatov", "Saha", "Nani"], corr: 0 },
        { cat: 'WHO MISSING', diff: 2, text: "Barca Midfield (Classic): Xavi, Busquets, ...", opts: ["Fabregas", "Iniesta", "Thiago", "Rakitic"], corr: 1 },

        // LEVEL 3
        { cat: 'PLAYER ID', diff: 3, text: "West Ham â¡ï¸ Man Utd â¡ï¸ Man City â¡ï¸ Juventus â¡ï¸ Boca", opts: ["Tevez", "Mascherano", "Aguero", "Heinze"], corr: 0 },
        { cat: 'PLAYER ID', diff: 3, text: "Metz â¡ï¸ Salzburg â¡ï¸ Southampton â¡ï¸ Liverpool â¡ï¸ Bayern", opts: ["Mane", "Firmino", "Salah", "Keita"], corr: 0 },
        { cat: 'GEOGRAPHY', diff: 3, text: "Î£Îµ Ï€Î¿Î¹Î± Ï‡ÏÏÎ± ÎµÎ´ÏÎµÏÎµÎ¹ Î· Î¿Î¼Î¬Î´Î± 'QarabaÄŸ';", opts: ["ÎšÎ±Î¶Î±ÎºÏƒÏ„Î¬Î½", "Î‘Î¶ÎµÏÎ¼Ï€Î±ÏŠÏ„Î¶Î¬Î½", "Î¤Î¿Ï…ÏÎºÎ¯Î±", "Î‘ÏÎ¼ÎµÎ½Î¯Î±"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 3, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Î­Ï‡ÎµÎ¹ Î­Î´ÏÎ± Ï„Î¿ 'Estadio da Luz';", opts: ["Porto", "Sporting", "Benfica", "Braga"], corr: 2 },
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î¿Ï‚ ÏƒÎºÏŒÏÎ±ÏÎµ 2 Î³ÎºÎ¿Î» ÏƒÏ„Î¿Î½ Ï„ÎµÎ»Î¹ÎºÏŒ Ï„Î¿Ï… Champions League 2010;", opts: ["Milito", "Eto'o", "Sneijder", "Pandev"], corr: 0 },
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î¿Ï‚ Î®Ï„Î±Î½ Î¿ Ï€ÏÏÏ„Î¿Ï‚ ÏƒÎºÏŒÏÎµÏ Ï„Î¿Ï… ÎœÎ¿Ï…Î½Ï„Î¹Î¬Î» 2014;", opts: ["Messi", "Muller", "James Rodriguez", "Neymar"], corr: 2 },
        { cat: 'WHO MISSING', diff: 3, text: "Inter 2010 (Treble): Eto'o, Milito, ...", opts: ["Pandev", "Sneijder", "Balotelli", "Crespo"], corr: 0 },
        { cat: 'WHO MISSING', diff: 3, text: "Real Madrid 2002: Zidane, Raul, Figo, ...", opts: ["Ronaldo R9", "Beckham", "Morientes", "Owen"], corr: 2 }
    ];

    // --- VARIABLES ---
    let p1Score = 0;
    let p2Score = 0;
    let currentPlayer = 1; 
    let roundsPlayed = 0;
    const MAX_ROUNDS = 5; 
    
    let currentCategory = "";
    let currentDifficulty = 1; 
    let currentQuestion = null;
    
    // availableQuestions: Î Î¿Î¹ÎµÏ‚ ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚ ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚ (Î³Î¹Î± Î½Î± Î¼Î·Î½ Î²Î»Î­Ï€Î¿Ï…Î¼Îµ Ï„Î¹Ï‚ Î¯Î´Î¹ÎµÏ‚).
    let availableQuestions = []; 
    // playedSlots: Î Î¿Î¹Î± ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ Î­Ï‡Î¿Ï…Î½ Ï€Î±Ï„Î·Î¸ÎµÎ¯ Î£Î• Î‘Î¥Î¤ÎŸ Î¤ÎŸ GAME. 
    // Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ ÎºÎ»ÎµÎ¹Î´Î¯ Î³Î¹Î± Î½Î± Î¼Î·Î½ Î¾Î±Î½Î±Ï€Î±Ï„Î·Î¸Î¿ÏÎ½.
    let playedSlots = []; 

    // --- MAIN FUNCTIONS ---

    function initGame() {
        p1Score = 0;
        p2Score = 0;
        currentPlayer = 1;
        roundsPlayed = 0;
        
        // Î£Î—ÎœÎ‘ÎÎ¤Î™ÎšÎŸ: Î‘Î´ÎµÎ¹Î¬Î¶Î¿Ï…Î¼Îµ Ï„Î· "Î¼Î±ÏÏÎ· Î»Î¯ÏƒÏ„Î±" Î¼Îµ Ï„Î± Ï€Î±Ï„Î·Î¼Î­Î½Î± ÎºÎ¿Ï…Î¼Ï€Î¹Î¬
        playedSlots = []; 
        
        document.getElementById('score-p1').innerText = "0";
        document.getElementById('score-p2').innerText = "0";
        
        // Î“Î­Î¼Î¹ÏƒÎ¼Î± Ï„ÏÎ¬Ï€Î¿Ï…Î»Î±Ï‚ Î±Î½ ÎµÎ¯Î½Î±Î¹ Î¬Î´ÎµÎ¹Î±
        if(availableQuestions.length === 0) {
            availableQuestions = [...database];
        }
        
        startRound();
    }

    function startRound() {
        if (roundsPlayed >= MAX_ROUNDS * 2) {
            finishGame();
            return;
        }
        updateTurnUI();
        showScreen('screen-menu');
    }

    // --- UI HELPERS ---
    function showScreen(id) {
        document.querySelectorAll('.app-container > div').forEach(div => {
            if(!div.classList.contains('scoreboard') && div.id !== 'turn-badge') {
                div.classList.add('hidden');
            }
        });
        document.getElementById(id).classList.remove('hidden');
    }

    function updateTurnUI() {
        const badge = document.getElementById('turn-badge');
        const container = document.getElementById('main-app');
        if(currentPlayer === 1) {
            badge.innerText = "Î£ÎµÎ¹ÏÎ¬: PLAYER 1 (ÎœÎ Î›Î•)";
            badge.style.background = "#2979ff";
            badge.style.color = "white";
            container.className = "app-container p1-turn"; 
        } else {
            badge.innerText = "Î£ÎµÎ¹ÏÎ¬: PLAYER 2 (Î ÎŸÎ¡Î¤ÎŸÎšÎ‘Î›Î™)";
            badge.style.background = "#ff9100";
            badge.style.color = "black";
            container.className = "app-container p2-turn"; 
        }
    }

    // --- CORE LOGIC: CATEGORY & LOCKING ---

    function selectCategory(cat) {
        currentCategory = cat;
        
        // Î•Î›Î•Î“Î§ÎŸÎ£: Î ÏÎ¹Î½ Î±Î½Î¿Î¯Î¾ÎµÎ¹ Î· Î¿Î¸ÏŒÎ½Î·, Ï„ÏÎ­Ï‡Î¿Ï…Î¼Îµ Î­Î»ÎµÎ³Ï‡Î¿ "Locked"
        checkLocksAndShow();
    }

    function checkLocksAndShow() {
        // Î¤ÏÎ­Ï‡Î¿Ï…Î¼Îµ loop Î³Î¹Î± Ï„Î± 3 ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ (Easy, Medium, Hard)
        for(let i=1; i<=3; i++) {
            const btn = document.getElementById('btn-diff-' + i);
            const lblLeft = document.getElementById('lbl-' + i + '-left');
            const lblRight = document.getElementById('lbl-' + i + '-right');
            
            // Î¦Ï„Î¹Î¬Ï‡Î½Î¿Ï…Î¼Îµ Ï„Î¿ "ÎºÎ»ÎµÎ¹Î´Î¯" (Ï€.Ï‡. "HISTORY-1")
            const slotKey = currentCategory + '-' + i;
            
            // Reset ÏƒÏ„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ (ÎºÎ±Î¸Î±ÏÏŒ Î±Ï€ÏŒ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î± Ï€Î±Ï„Î®Î¼Î±Ï„Î±)
            btn.classList.remove('btn-locked');
            btn.disabled = false;
            
            // 1. Î•Î›Î•Î“Î§ÎŸÎ£: Î•Î§Î•Î™ Î Î‘Î™Î§Î¤Î•Î™;
            if (playedSlots.includes(slotKey)) {
                // ÎÎ‘Î™ -> ÎšÎ›Î•Î™Î”Î©Î£Î• Î¤ÎŸ
                btn.classList.add('btn-locked');
                btn.disabled = true;
                lblLeft.innerText = "ÎšÎ›Î•Î™Î”Î©Î˜Î—ÎšÎ•";
                lblRight.innerText = "ğŸ”’";
            }
            // 2. Î•Î›Î•Î“Î§ÎŸÎ£: Î¥Î Î‘Î¡Î§ÎŸÎ¥Î Î•Î¡Î©Î¤Î—Î£Î•Î™Î£;
            else {
                // Î¨Î¬Ï‡Î½Î¿Ï…Î¼Îµ Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÎµÏÏÏ„Î·ÏƒÎ· ÏƒÏ„Î¿ database
                const hasQuestions = availableQuestions.some(q => q.cat === currentCategory && q.diff === i);
                if (!hasQuestions) {
                    btn.classList.add('btn-locked');
                    btn.disabled = true;
                    lblLeft.innerText = "Î¤Î•Î›ÎŸÎ£";
                    lblRight.innerText = "ğŸš«";
                } else {
                    // ÎŸÎ§Î™ -> Î‘ÎÎŸÎ™Î§Î¤ÎŸ
                    if(i===1) { lblLeft.innerText = "Easy"; lblRight.innerText = "1 Î ÏŒÎ½Ï„Î¿Ï‚"; }
                    if(i===2) { lblLeft.innerText = "Medium"; lblRight.innerText = "2 Î ÏŒÎ½Ï„Î¿Î¹"; }
                    if(i===3) { lblLeft.innerText = "Hard"; lblRight.innerText = "3 Î ÏŒÎ½Ï„Î¿Î¹"; }
                }
            }
        }
        
        showScreen('screen-difficulty');
    }

    function selectDifficulty(diff) {
        const slotKey = currentCategory + '-' + diff;
        
        // Î‘Î£Î¦Î‘Î›Î•Î™Î‘: Î‘Î½ ÎµÎ¯Î½Î±Î¹ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿, Î¼Î·Î½ ÎºÎ¬Î½ÎµÎ¹Ï‚ Ï„Î¯Ï€Î¿Ï„Î±
        if (playedSlots.includes(slotKey)) return;

        // 1. Î‘ÎœÎ•Î£ÎŸ ÎšÎ›Î•Î™Î”Î©ÎœÎ‘ Î“Î™Î‘ Î¤ÎŸ Î¥Î ÎŸÎ›ÎŸÎ™Î ÎŸ GAME
        playedSlots.push(slotKey);

        // 2. Î’Î¡Î™Î£ÎšÎŸÎ¥ÎœÎ• Î¤Î—Î Î•Î¡Î©Î¤Î—Î£Î—
        currentDifficulty = diff; 
        const filtered = availableQuestions.filter(q => q.cat === currentCategory && q.diff === currentDifficulty);
        
        if(filtered.length === 0) {
            alert("Error: No questions found.");
            return;
        }

        // 3. Î”Î™Î‘Î›Î•Î“ÎŸÎ¥ÎœÎ• Î¤Î¥Î§Î‘Î™Î‘
        currentQuestion = filtered[Math.floor(Math.random() * filtered.length)];
        
        // 4. Î”Î™Î‘Î“Î¡Î‘Î¦ÎŸÎ¥ÎœÎ• Î¤Î—Î Î•Î¡Î©Î¤Î—Î£Î— (NO REPEATS)
        const index = availableQuestions.indexOf(currentQuestion);
        if (index > -1) availableQuestions.splice(index, 1);

        // 5. Î Î‘ÎœÎ• Î£Î¤ÎŸ GAME
        showQuestionScreen();
    }

    function showQuestionScreen() {
        showScreen('screen-game');
        
        // Reset UI Elements
        document.getElementById('feedback').innerText = "";
        document.getElementById('next-btn').classList.add('hidden');
        document.getElementById('options-area').innerHTML = "";
        
        document.getElementById('cat-label').innerText = currentCategory;
        document.getElementById('points-label').innerText = currentDifficulty; 
        document.getElementById('q-text').innerText = currentQuestion.text;
        
        const imgEl = document.getElementById('q-image');
        if(currentQuestion.image) {
            imgEl.src = currentQuestion.image;
            imgEl.classList.remove('hidden');
        } else {
            imgEl.classList.add('hidden');
        }

        // Create Buttons
        currentQuestion.opts.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(idx, btn);
            document.getElementById('options-area').appendChild(btn);
        });
    }

    function checkAnswer(idx, btn) {
        // Disable all options
        const buttons = document.querySelectorAll('.opt-btn');
        buttons.forEach(b => b.disabled = true); 

        const pointsWon = currentDifficulty;

        if(idx === currentQuestion.corr) {
            btn.classList.add('correct');
            document.getElementById('feedback').innerText = `Î£Î©Î£Î¤ÎŸ! +${pointsWon} Î ÎŸÎÎ¤ÎŸÎ™ âœ…`;
            document.getElementById('feedback').style.color = "#00e676";
            
            if(currentPlayer === 1) {
                p1Score += pointsWon;
                updateScoreAnim('score-p1', p1Score);
            } else {
                p2Score += pointsWon;
                updateScoreAnim('score-p2', p2Score);
            }
        } else {
            btn.classList.add('wrong');
            buttons[currentQuestion.corr].classList.add('correct'); 
            document.getElementById('feedback').innerText = "Î›Î‘Î˜ÎŸÎ£! 0 Î ÎŸÎÎ¤ÎŸÎ™ âŒ";
            document.getElementById('feedback').style.color = "#d50000";
        }

        document.getElementById('next-btn').classList.remove('hidden');
    }

    function updateScoreAnim(id, val) {
        const el = document.getElementById(id);
        el.innerText = val;
        el.classList.remove('score-anim');
        void el.offsetWidth; 
        el.classList.add('score-anim');
    }

    function endTurn() {
        roundsPlayed++;
        currentPlayer = (currentPlayer === 1) ? 2 : 1; 
        startRound();
    }

    function finishGame() {
        showScreen('screen-results');
        document.getElementById('final-p1').innerText = p1Score;
        document.getElementById('final-p2').innerText = p2Score;
        
        let msg = "";
        if(p1Score > p2Score) msg = "ÎÎ™ÎšÎ—Î¤Î—Î£: PLAYER 1 ğŸ†";
        else if(p2Score > p1Score) msg = "ÎÎ™ÎšÎ—Î¤Î—Î£: PLAYER 2 ğŸ†";
        else msg = "Î™Î£ÎŸÎ Î‘Î›Î™Î‘! ğŸ¤";
        
        document.getElementById('winner-text').innerText = msg;
    }

</script>

</body>
</html>