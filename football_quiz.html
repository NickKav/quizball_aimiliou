<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Quiz - No Repeats</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background-color: #121212;
            color: #ffffff;
            text-align: center;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .app-container {
            width: 100%;
            max-width: 500px;
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 0 40px rgba(0,0,0, 0.6);
            min-height: 600px;
            display: flex;
            flex-direction: column;
            border: 4px solid #333;
            position: relative;
        }

        /* Î§ÏÏÎ¼Î±Ï„Î± Î Î±Î¹ÎºÏ„ÏÎ½ */
        .p1-turn { border-color: #2979ff; box-shadow: 0 0 20px rgba(41, 121, 255, 0.3); }
        .p2-turn { border-color: #ff9100; box-shadow: 0 0 20px rgba(255, 145, 0, 0.3); }

        h1 { margin: 0; font-size: 2em; letter-spacing: 1px; color: #fff;}
        
        /* SCOREBOARD */
        .scoreboard {
            display: flex;
            justify-content: space-between;
            background: #000;
            padding: 15px 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 1.4em;
            border: 1px solid #333;
        }
        .p1-score { color: #2979ff; }
        .p2-score { color: #ff9100; }
        
        .turn-badge {
            background-color: #333;
            color: white;
            padding: 8px 25px;
            border-radius: 50px;
            font-size: 1em;
            margin-bottom: 20px;
            display: inline-block;
            font-weight: bold;
        }

        /* Buttons */
        .menu-btn {
            background: #333;
            border: 1px solid #555;
            color: white;
            padding: 18px;
            width: 100%;
            margin-bottom: 15px;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }
        .menu-btn:active { transform: scale(0.98); }

        /* Difficulty Buttons */
        .diff-btn {
            padding: 20px; margin-bottom: 12px; font-size: 1.2em; border-radius: 15px; border: none; color: white; cursor: pointer; width: 100%; font-weight: bold;
            display: flex; justify-content: space-between; align-items: center;
        }
        .diff-1 { background-color: #00c853; box-shadow: 0 4px 0 #009624; }
        .diff-2 { background-color: #ffab00; color: #111; box-shadow: 0 4px 0 #c68400; }
        .diff-3 { background-color: #d50000; box-shadow: 0 4px 0 #9b0000; }
        
        .diff-btn:active { transform: translateY(4px); box-shadow: none; }

        /* Game Area */
        .points-tag {
            background: #444; color: gold; padding: 5px 10px; border-radius: 5px; font-weight: bold; font-size: 0.9em;
        }

        .question-card {
            background-color: #2c2c2c;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid #444;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .career-path { font-size: 1.2em; line-height: 1.5; color: #81d4fa; font-weight: bold; }
        .question-img { width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-bottom: 10px; }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .opt-btn { background-color: #333; border: 2px solid #444; color: white; padding: 15px; border-radius: 10px; cursor: pointer; font-size: 1em; font-weight: 500; }
        .opt-btn:hover { background-color: #444; }
        
        .correct { background-color: #00c853 !important; border-color: #00c853 !important; }
        .wrong { background-color: #d50000 !important; border-color: #d50000 !important; }

        .hidden { display: none !important; }
        
        /* Animation */
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.4); }
            100% { transform: scale(1); }
        }
        .score-anim { animation: pop 0.4s ease-in-out; color: #00e676 !important;}
    </style>
</head>
<body>

<div id="main-app" class="app-container">
    
    <div class="scoreboard">
        <span class="p1-score">P1: <span id="score-p1">0</span></span>
        <span style="font-size:0.7em; color:#555; align-self:center;">VS</span>
        <span class="p2-score">P2: <span id="score-p2">0</span></span>
    </div>
    
    <div style="text-align:center;">
        <div id="turn-badge" class="turn-badge">...</div>
    </div>

    <div id="screen-start">
        <h1 style="color:#00e676; margin-bottom: 10px;">FOOTBALL QUIZ</h1>
        <p style="color:#aaa; margin-bottom: 30px;">2 Î Î±Î¯ÎºÏ„ÎµÏ‚ â€¢ Î§Ï‰ÏÎ¯Ï‚ Î•Ï€Î±Î½Î±Î»Î®ÏˆÎµÎ¹Ï‚</p>
        <button class="menu-btn" style="background: linear-gradient(45deg, #00c853, #00e676); color:black; border:none;" onclick="initGame()">Î•ÎÎ‘Î¡ÎÎ— âš½</button>
    </div>

    <div id="screen-menu" class="hidden">
        <h2 style="color:#ccc;">Î”Î¹Î¬Î»ÎµÎ¾Îµ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±:</h2>
        <button class="menu-btn" onclick="selectCategory('PLAYER ID')">ğŸ‘¤ Player ID</button>
        <button class="menu-btn" onclick="selectCategory('GEOGRAPHY')">ğŸŒ Î“ÎµÏ‰Î³ÏÎ±Ï†Î¯Î±</button>
        <button class="menu-btn" onclick="selectCategory('HISTORY')">ğŸ“œ Î™ÏƒÏ„Î¿ÏÎ¯Î±</button>
        <button class="menu-btn" onclick="selectCategory('WHO MISSING')">â“ Î Î¿Î¹Î¿Ï‚ Î›ÎµÎ¯Ï€ÎµÎ¹</button>
    </div>

    <div id="screen-difficulty" class="hidden">
        <h2 style="color:#ccc;">Î¡Î¯ÏƒÎºÎ±ÏÎµ:</h2>
        
        <button class="diff-btn diff-1" onclick="selectDifficulty(1)">
            <span>Easy</span> <span>1 Î ÏŒÎ½Ï„Î¿Ï‚</span>
        </button>
        
        <button class="diff-btn diff-2" onclick="selectDifficulty(2)">
            <span>Medium</span> <span>2 Î ÏŒÎ½Ï„Î¿Î¹</span>
        </button>
        
        <button class="diff-btn diff-3" onclick="selectDifficulty(3)">
            <span>Hard</span> <span>3 Î ÏŒÎ½Ï„Î¿Î¹</span>
        </button>
        
        <button class="menu-btn" style="background:transparent; border:none; color:#666; font-size:0.9em;" onclick="showScreen('screen-menu')">â¬… Î Î¯ÏƒÏ‰</button>
    </div>

    <div id="screen-game" class="hidden">
        <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
            <span style="color:#888" id="cat-label">CATEGORY</span>
            <span class="points-tag">Î“Î¹Î± <span id="points-label">1</span> Î ÏŒÎ½Ï„Î¿(Ï…Ï‚)</span>
        </div>

        <div class="question-card">
            <img id="q-image" class="question-img hidden" src="">
            <div id="q-text" class="career-path">Loading...</div>
        </div>

        <div id="options-area" class="options-grid"></div>
        
        <div id="feedback" style="height:40px; margin-top:15px; font-weight:bold; font-size:1.4em;"></div>
        
        <button id="next-btn" class="menu-btn hidden" style="margin-top:10px; background:white; color:black;" onclick="endTurn()">Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± â¡ï¸</button>
    </div>

    <div id="screen-results" class="hidden">
        <h1>Î¤Î•Î›Î™ÎšÎŸ Î£ÎšÎŸÎ¡</h1>
        <h2 style="font-size:3.5em; margin: 20px 0;">
            <span class="p1-score" id="final-p1">0</span> - <span class="p2-score" id="final-p2">0</span>
        </h2>
        <h3 id="winner-text" style="color:#00e676; font-size: 1.5em;"></h3>
        <button class="menu-btn" onclick="initGame()">ÎÎ­Î¿ Î Î±Î¹Ï‡Î½Î¯Î´Î¹ ğŸ”„</button>
    </div>

</div>

<script>
    // --- DATABASE (ÎŸÎ›Î•Î£ ÎŸÎ™ Î•Î¡Î©Î¤Î—Î£Î•Î™Î£) ---
   // --- DATABASE: ULTIMATE EDITION (60+ QUESTIONS) ---
    const database = [
        // ==========================================
        // LEVEL 1 (EASY - 1 Î ÎŸÎÎ¤ÎŸÎ£)
        // ==========================================
        { cat: 'PLAYER ID', diff: 1, text: "Molde â¡ï¸ Salzburg â¡ï¸ Dortmund â¡ï¸ Man City", opts: ["Odegaard", "Haaland", "Isak", "Sorloth"], corr: 1 },
        { cat: 'PLAYER ID', diff: 1, text: "Santos â¡ï¸ Barcelona â¡ï¸ PSG â¡ï¸ Al Hilal", opts: ["Neymar", "Vinicius", "Rodrygo", "Rivaldo"], corr: 0 },
        { cat: 'PLAYER ID', diff: 1, text: "Sporting CP â¡ï¸ Man United â¡ï¸ Real Madrid â¡ï¸ Juventus", opts: ["Nani", "Figo", "Ronaldo", "Bruno"], corr: 2 },
        { cat: 'PLAYER ID', diff: 1, text: "Everton â¡ï¸ Man United â¡ï¸ Everton â¡ï¸ D.C. United", opts: ["Rooney", "Lukaku", "Fellaini", "Carrick"], corr: 0 },
        { cat: 'GEOGRAPHY', diff: 1, text: "Î£Îµ Ï€Î¿Î¹Î± Ï€ÏŒÎ»Î· ÎµÎ¯Î½Î±Î¹ Ï„Î¿ 'Old Trafford';", opts: ["Liverpool", "Manchester", "London", "Birmingham"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 1, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Î­Ï‡ÎµÎ¹ Î­Î´ÏÎ± Ï„Î¿ 'Camp Nou';", opts: ["Real Madrid", "Barcelona", "Valencia", "Sevilla"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 1, text: "Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î· 'ÎœÎµÎ³Î¬Î»Î· ÎšÏ…ÏÎ¯Î±' Ï„Î¿Ï… Î¹Ï„Î±Î»Î¹ÎºÎ¿Ï Ï€Î¿Î´Î¿ÏƒÏ†Î±Î¯ÏÎ¿Ï…;", opts: ["Milan", "Inter", "Juventus", "Roma"], corr: 2 },
        { cat: 'HISTORY', diff: 1, text: "Î Î¿Î¹Î± Ï‡ÏÏÎ± ÎºÎ±Ï„Î­ÎºÏ„Î·ÏƒÎµ Ï„Î¿ ÎœÎ¿Ï…Î½Ï„Î¹Î¬Î» 2022;", opts: ["Î“Î±Î»Î»Î¯Î±", "Î’ÏÎ±Î¶Î¹Î»Î¯Î±", "Î‘ÏÎ³ÎµÎ½Ï„Î¹Î½Î®", "Î Î¿ÏÏ„Î¿Î³Î±Î»Î¯Î±"], corr: 2 },
        { cat: 'HISTORY', diff: 1, text: "Î Î¿Î¹Î¿Ï‚ Ï€Î±Î¯ÎºÏ„Î·Ï‚ Î­Ï‡ÎµÎ¹ Ï„Î¹Ï‚ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î§ÏÏ…ÏƒÎ­Ï‚ ÎœÏ€Î¬Î»ÎµÏ‚;", opts: ["Ronaldo", "Messi", "Pele", "Maradona"], corr: 1 },
        { cat: 'WHO MISSING', diff: 1, text: "MSN: Messi, Suarez, ...", opts: ["Neymar", "Pedro", "Xavi", "Iniesta"], corr: 0 },
        { cat: 'WHO MISSING', diff: 1, text: "BBC: Bale, Benzema, ...", opts: ["Ronaldo", "Modric", "Kroos", "Ramos"], corr: 0 },
        { cat: 'WHO MISSING', diff: 1, text: "Liverpool 2019: Salah, Mane, ...", opts: ["Jota", "Firmino", "Diaz", "Origi"], corr: 1 },

        // ==========================================
        // LEVEL 2 (MEDIUM - 2 Î ÎŸÎÎ¤ÎŸÎ™)
        // ==========================================
        // Player ID
        { cat: 'PLAYER ID', diff: 2, text: "Lille â¡ï¸ Chelsea â¡ï¸ Real Madrid", opts: ["Hazard", "Drogba", "Essien", "Kante"], corr: 0 },
        { cat: 'PLAYER ID', diff: 2, text: "Ajax â¡ï¸ Liverpool â¡ï¸ Barcelona â¡ï¸ Atletico Madrid", opts: ["Suarez", "De Jong", "Griezmann", "Depay"], corr: 0 },
        { cat: 'PLAYER ID', diff: 2, text: "Palermo â¡ï¸ Napoli â¡ï¸ PSG â¡ï¸ Man Utd", opts: ["Lavezzi", "Pastore", "Cavani", "Ibrahimovic"], corr: 2 },
        { cat: 'PLAYER ID', diff: 2, text: "Schalke â¡ï¸ Werder Bremen â¡ï¸ Real Madrid â¡ï¸ Arsenal", opts: ["Khedira", "Ozil", "Kroos", "Rudiger"], corr: 1 },
        { cat: 'PLAYER ID', diff: 2, text: "Malmo â¡ï¸ Ajax â¡ï¸ Juventus â¡ï¸ Inter â¡ï¸ Barcelona â¡ï¸ Milan", opts: ["Larsson", "Ibrahimovic", "Litmanen", "Eriksen"], corr: 1 },
        { cat: 'PLAYER ID', diff: 2, text: "Atletico Madrid â¡ï¸ Liverpool â¡ï¸ Chelsea â¡ï¸ Milan", opts: ["Torres", "Morata", "Costa", "Shevchenko"], corr: 0 },
        { cat: 'PLAYER ID', diff: 2, text: "Benfica â¡ï¸ Real Madrid â¡ï¸ Man Utd â¡ï¸ PSG â¡ï¸ Juventus â¡ï¸ Benfica", opts: ["Cancelo", "Di Maria", "Felix", "Guedes"], corr: 1 },

        // Geography
        { cat: 'GEOGRAPHY', diff: 2, text: "Î Î¿Ï Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Ï„Î¿ Î³Î®Ï€ÎµÎ´Î¿ 'Mestalla';", opts: ["ÎœÎ±Î´ÏÎ¯Ï„Î·", "Î’Î±Î»Î­Î½Î¸Î¹Î±", "Î£ÎµÎ²Î¯Î»Î»Î·", "Î’Î±ÏÎºÎµÎ»ÏÎ½Î·"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 2, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Ï€Î±Î¯Î¶ÎµÎ¹ ÏƒÏ„Î¿ 'Signal Iduna Park';", opts: ["Bayern", "Dortmund", "Leverkusen", "Schalke"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 2, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Î±Ï€Î¿ÎºÎ±Î»Î¿ÏÎ½ 'ÎšÎ¯Ï„ÏÎ¹Î½Î¿ Î¥Ï€Î¿Î²ÏÏÏ‡Î¹Î¿';", opts: ["Cadiz", "Villarreal", "Las Palmas", "Watford"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 2, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Î­Ï‡ÎµÎ¹ ÏƒÎ®Î¼Î± Ï„Î·Î½ Î‘ÎºÏÏŒÏ€Î¿Î»Î· Ï„Î·Ï‚ Î¡ÏÎ¼Î·Ï‚ (Î›ÏÎºÎ±Î¹Î½Î±);", opts: ["Lazio", "Roma", "Napoli", "Fiorentina"], corr: 1 },
        
        // History
        { cat: 'HISTORY', diff: 2, text: "Î Î¿Î¹Î± Ï‡ÏÎ¿Î½Î¹Î¬ ÎºÎ±Ï„Î­ÎºÏ„Î·ÏƒÎµ Î· Î•Î»Î»Î¬Î´Î± Ï„Î¿ Euro;", opts: ["2000", "2004", "2008", "2012"], corr: 1 },
        { cat: 'HISTORY', diff: 2, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Ï€Î®ÏÎµ Ï„Î¿ Premier League Ï„Î¿ 2016 (Ï„Î¿ Î¸Î±ÏÎ¼Î±);", opts: ["Tottenham", "Leicester", "Arsenal", "Chelsea"], corr: 1 },
        { cat: 'HISTORY', diff: 2, text: "Î Î¿Î¹Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿ Ï€ÏÏÏ„Î¿Ï‚ ÏƒÎºÏŒÏÎµÏ ÏƒÏ„Î·Î½ Î¹ÏƒÏ„Î¿ÏÎ¯Î± Ï„Î¿Ï… Champions League;", opts: ["Messi", "Lewandowski", "Ronaldo", "Benzema"], corr: 2 },
        { cat: 'HISTORY', diff: 2, text: "Î Î¿Î¹Î± Î•Î¸Î½Î¹ÎºÎ® Î¿Î¼Î¬Î´Î± Î­Ï‡ÎµÎ¹ Ï€Î¬ÏÎµÎ¹ Ï„Î± Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± ÎœÎ¿Ï…Î½Ï„Î¹Î¬Î» (5);", opts: ["Î“ÎµÏÎ¼Î±Î½Î¯Î±", "Î™Ï„Î±Î»Î¯Î±", "Î‘ÏÎ³ÎµÎ½Ï„Î¹Î½Î®", "Î’ÏÎ±Î¶Î¹Î»Î¯Î±"], corr: 3 },

        // Who Missing
        { cat: 'WHO MISSING', diff: 2, text: "Man Utd 2008: Rooney, Ronaldo, ...", opts: ["Tevez", "Berbatov", "Saha", "Nani"], corr: 0 },
        { cat: 'WHO MISSING', diff: 2, text: "Barca Midfield (Classic): Xavi, Busquets, ...", opts: ["Fabregas", "Iniesta", "Thiago", "Rakitic"], corr: 1 },
        { cat: 'WHO MISSING', diff: 2, text: "Holland Trio Milan: Van Basten, Gullit, ...", opts: ["Koeman", "Rijkaard", "Cruyff", "Seedorf"], corr: 1 },

        // ==========================================
        // LEVEL 3 (HARD / LEGEND - 3 Î ÎŸÎÎ¤ÎŸÎ™)
        // ==========================================
        // Player ID (ÎŸÎ¹ Î“Ï…ÏÎ¿Î»ÏŒÎ³Î¿Î¹)
        { cat: 'PLAYER ID', diff: 3, text: "West Ham â¡ï¸ Man Utd â¡ï¸ Man City â¡ï¸ Juventus â¡ï¸ Boca", opts: ["Tevez", "Mascherano", "Aguero", "Heinze"], corr: 0 },
        { cat: 'PLAYER ID', diff: 3, text: "Metz â¡ï¸ Salzburg â¡ï¸ Southampton â¡ï¸ Liverpool â¡ï¸ Bayern", opts: ["Mane", "Firmino", "Salah", "Keita"], corr: 0 },
        { cat: 'PLAYER ID', diff: 3, text: "River Plate â¡ï¸ Corinthians â¡ï¸ West Ham â¡ï¸ Liverpool â¡ï¸ Barcelona", opts: ["Mascherano", "Tevez", "Saviola", "Cambiasso"], corr: 0 },
        { cat: 'PLAYER ID', diff: 3, text: "Stuttgart â¡ï¸ Arsenal â¡ï¸ Barcelona â¡ï¸ Chelsea", opts: ["Fabregas", "Hleb", "Song", "Pedro"], corr: 1 }, 
        { cat: 'PLAYER ID', diff: 3, text: "Partizan â¡ï¸ Fiorentina â¡ï¸ Man City â¡ï¸ Inter â¡ï¸ Sevilla", opts: ["Savic", "Jovetic", "Kolarov", "Nastasic"], corr: 1 },
        { cat: 'PLAYER ID', diff: 3, text: "Schalke â¡ï¸ Milan â¡ï¸ Portsmouth â¡ï¸ Milan â¡ï¸ Eintracht", opts: ["K.P. Boateng", "Huntelaar", "Farfan", "Draxler"], corr: 0 },
        { cat: 'PLAYER ID', diff: 3, text: "Basel â¡ï¸ Bayern â¡ï¸ Inter â¡ï¸ Stoke City â¡ï¸ Lyon", opts: ["Shaqiri", "Podolski", "Perisic", "Arnautovic"], corr: 0 },
        { cat: 'PLAYER ID', diff: 3, text: "Le Havre â¡ï¸ Leicester â¡ï¸ Man City", opts: ["Kante", "Mahrez", "Vardy", "Fofana"], corr: 1 },
        { cat: 'PLAYER ID', diff: 3, text: "Instituto â¡ï¸ Palermo â¡ï¸ Juventus â¡ï¸ Roma", opts: ["Dybala", "Pastore", "Cavani", "Higuain"], corr: 0 },
        { cat: 'PLAYER ID', diff: 3, text: "PSG â¡ï¸ Arsenal â¡ï¸ Real Madrid â¡ï¸ Liverpool â¡ï¸ Man City", opts: ["Anelka", "Adebayor", "Nasri", "Lass Diarra"], corr: 0 },

        // Geography (Î¤Î± Î¨Î±Î³Î¼Î­Î½Î±)
        { cat: 'GEOGRAPHY', diff: 3, text: "Î£Îµ Ï€Î¿Î¹Î± Ï‡ÏÏÎ± ÎµÎ´ÏÎµÏÎµÎ¹ Î· Î¿Î¼Î¬Î´Î± 'QarabaÄŸ';", opts: ["ÎšÎ±Î¶Î±ÎºÏƒÏ„Î¬Î½", "Î‘Î¶ÎµÏÎ¼Ï€Î±ÏŠÏ„Î¶Î¬Î½", "Î¤Î¿Ï…ÏÎºÎ¯Î±", "Î‘ÏÎ¼ÎµÎ½Î¯Î±"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 3, text: "Î Î¿Î¹Î± Î¿Î¼Î¬Î´Î± Î­Ï‡ÎµÎ¹ Î­Î´ÏÎ± Ï„Î¿ 'Estadio da Luz';", opts: ["Porto", "Sporting", "Benfica", "Braga"], corr: 2 },
        { cat: 'GEOGRAPHY', diff: 3, text: "Î£Îµ Ï€Î¿Î¹Î± Ï‡ÏÏÎ± Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Î· Î¿Î¼Î¬Î´Î± 'Ludogorets';", opts: ["Î¡Î¿Ï…Î¼Î±Î½Î¯Î±", "ÎŸÏ…Î³Î³Î±ÏÎ¯Î±", "Î’Î¿Ï…Î»Î³Î±ÏÎ¯Î±", "Î£ÎµÏÎ²Î¯Î±"], corr: 2 },
        { cat: 'GEOGRAPHY', diff: 3, text: "Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î· Î¼ÏŒÎ½Î· Î“Î±Î»Î»Î¹ÎºÎ® Î¿Î¼Î¬Î´Î± Î¼Îµ Champions League;", opts: ["PSG", "Monaco", "Marseille", "Lyon"], corr: 2 },
        { cat: 'GEOGRAPHY', diff: 3, text: "Î£Îµ Ï€Î¿Î¹Î± Ï€ÏŒÎ»Î· Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Ï„Î¿ Î¸ÏÏ…Î»Î¹ÎºÏŒ 'La Bombonera';", opts: ["Î¡Î¯Î¿ Î½Ï„Îµ Î¤Î¶Î±Î½Î­Î¹ÏÎ¿", "ÎœÏ€Î¿Ï…Î­Î½Î¿Ï‚ Î†Î¹ÏÎµÏ‚", "ÎœÎ¿Î½Ï„ÎµÎ²Î¹Î´Î­Î¿", "Î£Î±Î½Ï„Î¹Î¬Î³Î¿"], corr: 1 },
        { cat: 'GEOGRAPHY', diff: 3, text: "Î Î¿Î¹Î¿ Î³Î®Ï€ÎµÎ´Î¿ Î­Ï‡ÎµÎ¹ Ï„Î· Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ· Ï‡Ï‰ÏÎ·Ï„Î¹ÎºÏŒÏ„Î·Ï„Î± ÏƒÏ„Î¿Î½ ÎºÏŒÏƒÎ¼Î¿ (Î’ÏŒÏÎµÎ¹Î± ÎšÎ¿ÏÎ­Î±);", opts: ["Maracana", "Rungrado 1st of May", "Camp Nou", "Azteca"], corr: 1 },
        
        // History (Î“ÎµÎ³Î¿Î½ÏŒÏ„Î± & Î£Ï„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬)
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î¿Ï‚ ÏƒÎºÏŒÏÎ±ÏÎµ 2 Î³ÎºÎ¿Î» ÏƒÏ„Î¿Î½ Ï„ÎµÎ»Î¹ÎºÏŒ Ï„Î¿Ï… Champions League 2010;", opts: ["Milito", "Eto'o", "Sneijder", "Pandev"], corr: 0 },
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î¿Ï‚ Î®Ï„Î±Î½ Î¿ Ï€ÏÏÏ„Î¿Ï‚ ÏƒÎºÏŒÏÎµÏ Ï„Î¿Ï… ÎœÎ¿Ï…Î½Ï„Î¹Î¬Î» 2014;", opts: ["Messi", "Muller", "James Rodriguez", "Neymar"], corr: 2 },
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î± Ï‡ÏÎ¿Î½Î¹Î¬ Ï…Ï€Î¿Î²Î¹Î²Î¬ÏƒÏ„Î·ÎºÎµ Î· Î“Î¹Î¿Ï…Î²Î­Î½Ï„Î¿Ï…Ï‚ (Calciopoli);", opts: ["2004", "2005", "2006", "2007"], corr: 2 },
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î¿Ï‚ Ï€Î±Î¯ÎºÏ„Î·Ï‚ Î­Ï‡ÎµÎ¹ Ï„Î¹Ï‚ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ ÎµÎ¼Ï†Î±Î½Î¯ÏƒÎµÎ¹Ï‚ ÏƒÏ„Î·Î½ Premier League;", opts: ["Giggs", "Barry", "Lampard", "Milner"], corr: 1 },
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î± Ï‡ÏÏÎ± Î´Î¹Î¿ÏÎ³Î¬Î½Ï‰ÏƒÎµ ÎºÎ±Î¹ ÎºÎ­ÏÎ´Î¹ÏƒÎµ Ï„Î¿ Ï€ÏÏÏ„Î¿ ÎœÎ¿Ï…Î½Ï„Î¹Î¬Î» (1930);", opts: ["Î’ÏÎ±Î¶Î¹Î»Î¯Î±", "Î™Ï„Î±Î»Î¯Î±", "ÎŸÏ…ÏÎ¿Ï…Î³Î¿Ï…Î¬Î·", "Î‘ÏÎ³ÎµÎ½Ï„Î¹Î½Î®"], corr: 2 },
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿ Î¼Î¿Î½Î±Î´Î¹ÎºÏŒÏ‚ Ï„ÎµÏÎ¼Î±Ï„Î¿Ï†ÏÎ»Î±ÎºÎ±Ï‚ Ï€Î¿Ï… Ï€Î®ÏÎµ Î§ÏÏ…ÏƒÎ® ÎœÏ€Î¬Î»Î±;", opts: ["Buffon", "Yashin", "Neuer", "Casillas"], corr: 1 },
        { cat: 'HISTORY', diff: 3, text: "Î Î¿Î¹Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿ Î¼Î¿Î½Î±Î´Î¹ÎºÏŒÏ‚ Î‘Ï†ÏÎ¹ÎºÎ±Î½ÏŒÏ‚ Î¼Îµ Î§ÏÏ…ÏƒÎ® ÎœÏ€Î¬Î»Î±;", opts: ["Drogba", "Eto'o", "Weah", "Salah"], corr: 2 },

        // Who Missing (Î”ÏÏƒÎºÎ¿Î»ÎµÏ‚ Î¤ÏÎ¹Î¬Î´ÎµÏ‚)
        { cat: 'WHO MISSING', diff: 3, text: "Inter 2010 (Treble): Eto'o, Milito, ...", opts: ["Pandev", "Sneijder", "Balotelli", "Crespo"], corr: 0 },
        { cat: 'WHO MISSING', diff: 3, text: "Milan 2005 Midfield: Kaka, Pirlo, Seedorf, ...", opts: ["Gattuso", "Ambrosini", "Rui Costa", "Ronaldinho"], corr: 0 },
        { cat: 'WHO MISSING', diff: 3, text: "Real Madrid 2002: Zidane, Raul, Figo, ...", opts: ["Ronaldo R9", "Beckham", "Morientes", "Owen"], corr: 2 }, // O Morientes Î­Ï€Î±Î¹Î¶Îµ, Î¿ R9 Î®ÏÎ¸Îµ Î¼ÎµÏ„Î¬ Ï„Î¿ ÎœÎ¿Ï…Î½Ï„Î¹Î¬Î» 2002
        { cat: 'WHO MISSING', diff: 3, text: "Brazil 2002 Attack (The 3 R's): Ronaldo, Rivaldo, ...", opts: ["Robinho", "Ronaldinho", "Romario", "Roberto Carlos"], corr: 1 },
        { cat: 'WHO MISSING', diff: 3, text: "Man City 2012 (Agueroooo): Aguero, Dzeko, ...", opts: ["Tevez", "Balotelli", "Negredo", "Jovetic"], corr: 1 }
    ];

    // --- VARIABLES ---
    let p1Score = 0;
    let p2Score = 0;
    let currentPlayer = 1; 
    let roundsPlayed = 0;
    const MAX_ROUNDS = 5; 
    
    let currentCategory = "";
    let currentDifficulty = 1; 
    let currentQuestion = null;
    
    // Î•Î´Ï Î±Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Ï…Î¼Îµ Ï„Î¹Ï‚ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚ ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î¿ Ï„ÏÎ­Ï‡Î¿Î½ Ï€Î±Î¹Ï‡Î½Î¯Î´Î¹
    let availableQuestions = [];

    // --- LOGIC ---
    function showScreen(id) {
        document.querySelectorAll('.app-container > div').forEach(div => {
            if(!div.classList.contains('scoreboard') && div.id !== 'turn-badge') {
                div.classList.add('hidden');
            }
        });
        document.getElementById(id).classList.remove('hidden');
    }

    function updateTurnUI() {
        const badge = document.getElementById('turn-badge');
        const container = document.getElementById('main-app');
        
        if(currentPlayer === 1) {
            badge.innerText = "Î£ÎµÎ¹ÏÎ¬: PLAYER 1 (ÎœÎ Î›Î•)";
            badge.style.background = "#2979ff";
            badge.style.color = "white";
            container.className = "app-container p1-turn"; 
        } else {
            badge.innerText = "Î£ÎµÎ¹ÏÎ¬: PLAYER 2 (Î ÎŸÎ¡Î¤ÎŸÎšÎ‘Î›Î™)";
            badge.style.background = "#ff9100";
            badge.style.color = "black";
            container.className = "app-container p2-turn"; 
        }
    }

    function initGame() {
        p1Score = 0;
        p2Score = 0;
        currentPlayer = 1;
        roundsPlayed = 0;
        document.getElementById('score-p1').innerText = "0";
        document.getElementById('score-p2').innerText = "0";
        
        // ÎšÎ¬Î½Î¿Ï…Î¼Îµ RESET Ï„Î¹Ï‚ ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚ (Î³ÎµÎ¼Î¯Î¶Î¿Ï…Î¼Îµ Ï„Î·Î½ Ï„ÏÎ¬Ï€Î¿Ï…Î»Î± Î¾Î±Î½Î¬)
        availableQuestions = [...database]; 
        
        startRound();
    }

    function startRound() {
        if (roundsPlayed >= MAX_ROUNDS * 2) {
            finishGame();
            return;
        }
        updateTurnUI();
        showScreen('screen-menu');
    }

    function selectCategory(cat) {
        currentCategory = cat;
        showScreen('screen-difficulty');
    }

    function selectDifficulty(diff) {
        currentDifficulty = diff; 
        
        // Î¨Î¬Ï‡Î½Î¿Ï…Î¼Îµ ÎœÎŸÎÎŸ ÏƒÏ„Î¹Ï‚ availableQuestions
        const filtered = availableQuestions.filter(q => q.cat === currentCategory && q.diff === currentDifficulty);
        
        if(filtered.length === 0) {
            alert("Î¤Î­Î»ÎµÎ¹Ï‰ÏƒÎ±Î½ Î¿Î¹ ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚ ÏƒÎµ Î±Ï…Ï„ÏŒ Ï„Î¿ ÎµÏ€Î¯Ï€ÎµÎ´Î¿! Î”Î¹Î¬Î»ÎµÎ¾Îµ Î¬Î»Î»Î¿.");
            return;
        }

        // Î¤Ï…Ï‡Î±Î¯Î± ÎµÏ€Î¹Î»Î¿Î³Î®
        currentQuestion = filtered[Math.floor(Math.random() * filtered.length)];
        
        // --- Î‘Î¦Î‘Î™Î¡Î•Î£Î— Î‘Î ÎŸ Î¤Î— Î›Î™Î£Î¤Î‘ ---
        const index = availableQuestions.indexOf(currentQuestion);
        if (index > -1) {
            availableQuestions.splice(index, 1);
        }

        showQuestionScreen();
    }

    function showQuestionScreen() {
        showScreen('screen-game');
        
        document.getElementById('feedback').innerText = "";
        document.getElementById('next-btn').classList.add('hidden');
        document.getElementById('options-area').innerHTML = "";
        
        document.getElementById('cat-label').innerText = currentCategory;
        document.getElementById('points-label').innerText = currentDifficulty; 

        document.getElementById('q-text').innerText = currentQuestion.text;
        
        const imgEl = document.getElementById('q-image');
        if(currentQuestion.image) {
            imgEl.src = currentQuestion.image;
            imgEl.classList.remove('hidden');
        } else {
            imgEl.classList.add('hidden');
        }

        currentQuestion.opts.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(idx, btn);
            document.getElementById('options-area').appendChild(btn);
        });
    }

    function checkAnswer(idx, btn) {
        const buttons = document.querySelectorAll('.opt-btn');
        buttons.forEach(b => b.disabled = true); 

        const pointsWon = currentDifficulty;

        if(idx === currentQuestion.corr) {
            btn.classList.add('correct');
            document.getElementById('feedback').innerText = `Î£Î©Î£Î¤ÎŸ! +${pointsWon} Î ÎŸÎÎ¤ÎŸÎ™ âœ…`;
            document.getElementById('feedback').style.color = "#00e676";
            
            if(currentPlayer === 1) {
                p1Score += pointsWon;
                updateScoreAnim('score-p1', p1Score);
            } else {
                p2Score += pointsWon;
                updateScoreAnim('score-p2', p2Score);
            }

        } else {
            btn.classList.add('wrong');
            buttons[currentQuestion.corr].classList.add('correct'); 
            document.getElementById('feedback').innerText = "Î›Î‘Î˜ÎŸÎ£! 0 Î ÎŸÎÎ¤ÎŸÎ™ âŒ";
            document.getElementById('feedback').style.color = "#d50000";
        }

        document.getElementById('next-btn').classList.remove('hidden');
    }

    function updateScoreAnim(id, val) {
        const el = document.getElementById(id);
        el.innerText = val;
        el.classList.remove('score-anim');
        void el.offsetWidth; 
        el.classList.add('score-anim');
    }

    function endTurn() {
        roundsPlayed++;
        currentPlayer = (currentPlayer === 1) ? 2 : 1; 
        startRound();
    }

    function finishGame() {
        showScreen('screen-results');
        document.getElementById('final-p1').innerText = p1Score;
        document.getElementById('final-p2').innerText = p2Score;
        
        let msg = "";
        if(p1Score > p2Score) msg = "ÎÎ™ÎšÎ—Î¤Î—Î£: PLAYER 1 ğŸ†";
        else if(p2Score > p1Score) msg = "ÎÎ™ÎšÎ—Î¤Î—Î£: PLAYER 2 ğŸ†";
        else msg = "Î™Î£ÎŸÎ Î‘Î›Î™Î‘! ğŸ¤";
        
        document.getElementById('winner-text').innerText = msg;
    }

</script>

</body>
</html>